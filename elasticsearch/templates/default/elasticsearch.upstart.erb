# THIS FILE HAS BEEN GENERATED BY CHEF
# ANY MANUAL MODIFICATIONS WILL BE OVERWRITTEN

description "elasticsearch v<%= node.elasticsearch.version %>"

kill timeout <%= node.elasticsearch.timeout %> # wait this many seconds between SIGTERM and SIGKILL.

start on runlevel [2345]
stop on runlevel [!2345]

respawn
respawn limit 10 5

env ES_CONFIGS=<%= node.elasticsearch.configs %>
env DAEMON=/usr/local/bin/elasticsearch
env ES_HOME=/usr/local/lib/elasticsearch
env ES_CLASSPATH=$ES_HOME/*:$ES_HOME/sigar/*

exec su -c ". $ES_CONFIGS/elasticsearch.in.sh && $DAEMON -f -Des.config=$ES_CONFIGS/elasticsearch.yml" elasticsearch
